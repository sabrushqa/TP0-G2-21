<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jakartaee.org/jsf/html"
      xmlns:f="http://xmlns.jakartaee.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>TP0 - Chat simple</title>
    <h:outputStylesheet name="css/style.css"/>
    <h:outputScript name="js/app.js"/>
</h:head>
<h:body>
    <h:form id="mainForm">
        <h3>Chat simplifié</h3>

        <p:panelGrid columns="2" style="width:100%">
            Role API:
            <p:selectOneMenu value="#{chatBean.role}" disabled="#{chatBean.roleSelected}">
                <f:selectItem itemLabel="-- choisir --" itemValue="" />
                <f:selectItem itemLabel="helpful assistant" itemValue="helpful assistant"/>
                <f:selectItem itemLabel="traducteur français-anglais" itemValue="traducteur"/>
                <f:selectItem itemLabel="guide touristique" itemValue="guide"/>
            </p:selectOneMenu>

            <p:commandButton value="Nouveau chat" action="#{chatBean.nouveauChat}" immediate="true"/>
        </p:panelGrid>

        <p:inputTextarea id="question" value="#{chatBean.question}" rows="4" cols="80"/>
        <p:commandButton value="Envoyer" action="#{chatBean.envoyer}" update="@form"/>

        <h4>Réponse</h4>
        <p:inputTextarea value="#{chatBean.reponse}" readonly="true" rows="4" cols="80"/>

        <h4>Conversation</h4>
        <p:inputTextarea value="#{chatBean.conversation}" readonly="true" rows="10" cols="40"/>
    </h:form>
</h:body>
</html>
